(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();const W="GraphQL Client",ae=0,ce=3,pe="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",ye="Response returned unexpected Content-Type:",he="An unknown error has occurred. The API did not return a data object or any errors in its response.",te={json:"application/json",multipart:"multipart/mixed"},ie="X-SDK-Variant",ue="X-SDK-Version",Ke="shopify-graphql-client",Qe="1.2.2",me=1e3,je=[429,503],ge=/@(defer)\b/i,de=`\r
`,Xe=/boundary="?([^=";]+)"?/i,le=de+de;function k(t,e=W){return t.startsWith(`${e}`)?t:`${e}: ${t}`}function V(t){return t instanceof Error?t.message:JSON.stringify(t)}function Ee(t){return t instanceof Error&&t.cause?t.cause:void 0}function ve(t){return t.flatMap(({errors:e})=>e??[])}function Se({client:t,retries:e}){if(e!==void 0&&(typeof e!="number"||e<ae||e>ce))throw new Error(`${t}: The provided "retries" value (${e}) is invalid - it cannot be less than ${ae} or greater than ${ce}`)}function A(t,e){return e&&(typeof e!="object"||Array.isArray(e)||typeof e=="object"&&Object.keys(e).length>0)?{[t]:e}:{}}function be(t,e){if(t.length===0)return e;const n={[t.pop()]:e};return t.length===0?n:be(t,n)}function Ie(t,e){return Object.keys(e||{}).reduce((r,n)=>(typeof e[n]=="object"||Array.isArray(e[n]))&&t[n]?(r[n]=Ie(t[n],e[n]),r):(r[n]=e[n],r),Array.isArray(t)?[...t]:{...t})}function Ae([t,...e]){return e.reduce(Ie,{...t})}function We({clientLogger:t,customFetchApi:e=fetch,client:r=W,defaultRetryWaitTime:n=me,retriableCodes:a=je}){const u=async(l,p,f)=>{const E=p+1,h=f+1;let y;try{if(y=await e(...l),t({type:"HTTP-Response",content:{requestParams:l,response:y}}),!y.ok&&a.includes(y.status)&&E<=h)throw new Error;return y}catch(m){if(E<=h){const R=y==null?void 0:y.headers.get("Retry-After");return await Ye(R?parseInt(R,10):n),t({type:"HTTP-Retry",content:{requestParams:l,lastResponse:y,retryAttempt:p,maxRetries:f}}),u(l,E,f)}throw new Error(k(`${f>0?`Attempted maximum number of ${f} network retries. Last message - `:""}${V(m)}`,r))}};return u}async function Ye(t){return new Promise(e=>setTimeout(e,t))}function Je({headers:t,url:e,customFetchApi:r=fetch,retries:n=0,logger:a}){Se({client:W,retries:n});const u={headers:t,url:e,retries:n},l=ze(a),p=We({customFetchApi:r,clientLogger:l,defaultRetryWaitTime:me}),f=Ze(p,u),E=et(f),h=ct(f);return{config:u,fetch:f,request:E,requestStream:h}}function ze(t){return e=>{t&&t(e)}}async function we(t){const{errors:e,data:r,extensions:n}=await t.json();return{...A("data",r),...A("extensions",n),headers:t.headers,...e||!r?{errors:{networkStatusCode:t.status,message:k(e?pe:he),...A("graphQLErrors",e),response:t}}:{}}}function Ze(t,{url:e,headers:r,retries:n}){return async(a,u={})=>{const{variables:l,headers:p,url:f,retries:E,signal:h}=u,y=JSON.stringify({query:a,variables:l});Se({client:W,retries:E});const m=Object.entries({...r,...p}).reduce(($,[w,C])=>($[w]=Array.isArray(C)?C.join(", "):C.toString(),$),{});return!m[ie]&&!m[ue]&&(m[ie]=Ke,m[ue]=Qe),t([f??e,{method:"POST",headers:m,body:y,signal:h}],1,E??n)}}function et(t){return async(...e)=>{if(ge.test(e[0]))throw new Error(k("This operation will result in a streamable response - use requestStream() instead."));try{const r=await t(...e),{status:n,statusText:a}=r,u=r.headers.get("content-type")||"";return r.ok?u.includes(te.json)?we(r):{errors:{networkStatusCode:n,message:k(`${ye} ${u}`),response:r}}:{errors:{networkStatusCode:n,message:k(a),response:r}}}catch(r){return{errors:{message:V(r)}}}}}async function*tt(t){const e=new TextDecoder;if(t.body[Symbol.asyncIterator])for await(const r of t.body)yield e.decode(r);else{const r=t.body.getReader();let n;try{for(;!(n=await r.read()).done;)yield e.decode(n.value)}finally{r.cancel()}}}function rt(t,e){return{async*[Symbol.asyncIterator](){try{let r="";for await(const n of t)if(r+=n,r.indexOf(e)>-1){const a=r.lastIndexOf(e),l=r.slice(0,a).split(e).filter(p=>p.trim().length>0).map(p=>p.slice(p.indexOf(le)+le.length).trim());l.length>0&&(yield l),r=r.slice(a+e.length),r.trim()==="--"&&(r="")}}catch(r){throw new Error(`Error occured while processing stream payload - ${V(r)}`)}}}}function nt(t){return{async*[Symbol.asyncIterator](){yield{...await we(t),hasNext:!1}}}}function ot(t){return t.map(e=>{try{return JSON.parse(e)}catch(r){throw new Error(`Error in parsing multipart response - ${V(r)}`)}}).map(e=>{const{data:r,incremental:n,hasNext:a,extensions:u,errors:l}=e;if(!n)return{data:r||{},...A("errors",l),...A("extensions",u),hasNext:a};const p=n.map(({data:f,path:E,errors:h})=>({data:f&&E?be(E,f):{},...A("errors",h)}));return{data:p.length===1?p[0].data:Ae([...p.map(({data:f})=>f)]),...A("errors",ve(p)),hasNext:a}})}function st(t,e){if(t.length>0)throw new Error(pe,{cause:{graphQLErrors:t}});if(Object.keys(e).length===0)throw new Error(he)}function at(t,e){var p,f;const r=(e??"").match(Xe),n=`--${r?r[1]:"-"}`;if(!((p=t.body)!=null&&p.getReader)&&!((f=t.body)!=null&&f[Symbol.asyncIterator]))throw new Error("API multipart response did not return an iterable body",{cause:t});const a=tt(t);let u={},l;return{async*[Symbol.asyncIterator](){var E;try{let h=!0;for await(const y of rt(a,n)){const m=ot(y);l=((E=m.find($=>$.extensions))==null?void 0:E.extensions)??l;const R=ve(m);u=Ae([u,...m.map(({data:$})=>$)]),h=m.slice(-1)[0].hasNext,st(R,u),yield{...A("data",u),...A("extensions",l),hasNext:h}}if(h)throw new Error("Response stream terminated unexpectedly")}catch(h){const y=Ee(h);yield{...A("data",u),...A("extensions",l),errors:{message:k(V(h)),networkStatusCode:t.status,...A("graphQLErrors",y==null?void 0:y.graphQLErrors),response:t},hasNext:!1}}}}}function ct(t){return async(...e)=>{if(!ge.test(e[0]))throw new Error(k("This operation does not result in a streamable response - use request() instead."));try{const r=await t(...e),{statusText:n}=r;if(!r.ok)throw new Error(n,{cause:r});const a=r.headers.get("content-type")||"";switch(!0){case a.includes(te.json):return nt(r);case a.includes(te.multipart):return at(r,a);default:throw new Error(`${ye} ${a}`,{cause:r})}}catch(r){return{async*[Symbol.asyncIterator](){const n=Ee(r);yield{errors:{message:k(V(r)),...A("networkStatusCode",n==null?void 0:n.status),...A("response",n)},hasNext:!1}}}}}}function it({client:t,storeDomain:e}){try{if(!e||typeof e!="string")throw new Error;const r=e.trim(),n=r.match(/^https?:/)?r:`https://${r}`,a=new URL(n);return a.protocol="https",a.origin}catch(r){throw new Error(`${t}: a valid store domain ("${e}") must be provided`,{cause:r})}}function Ce({client:t,currentSupportedApiVersions:e,apiVersion:r,logger:n}){const a=`${t}: the provided apiVersion ("${r}")`,u=`Currently supported API versions: ${e.join(", ")}`;if(!r||typeof r!="string")throw new Error(`${a} is invalid. ${u}`);const l=r.trim();e.includes(l)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:r,supportedApiVersions:e}}):console.warn(`${a} is likely deprecated or not supported. ${u}`))}function X(t){const e=t*3-2;return e===10?e:`0${e}`}function ee(t,e,r){const n=e-r;return n<=0?`${t-1}-${X(n+4)}`:`${t}-${X(n)}`}function ut(){const t=new Date,e=t.getUTCMonth(),r=t.getUTCFullYear(),n=Math.floor(e/3+1);return{year:r,quarter:n,version:`${r}-${X(n)}`}}function dt(){const{year:t,quarter:e,version:r}=ut(),n=e===4?`${t+1}-01`:`${t}-${X(e+1)}`;return[ee(t,e,3),ee(t,e,2),ee(t,e,1),r,n,"unstable"]}function lt(t){return e=>({...e??{},...t.headers})}function ft({getHeaders:t,getApiUrl:e}){return(r,n)=>{const a=[r];if(n&&Object.keys(n).length>0){const{variables:u,apiVersion:l,headers:p,retries:f}=n;a.push({...u?{variables:u}:{},...p?{headers:t(p)}:{},...l?{url:e(l)}:{},...f?{retries:f}:{}})}return a}}const fe="application/json",pt="storefront-api-client",yt="1.0.4",ht="X-Shopify-Storefront-Access-Token",mt="Shopify-Storefront-Private-Token",gt="X-SDK-Variant",Et="X-SDK-Version",vt="X-SDK-Variant-Source",K="Storefront API Client";function St(t){if(t&&typeof window<"u")throw new Error(`${K}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function bt(t,e){if(!t&&!e)throw new Error(`${K}: a public or private access token must be provided`);if(t&&e)throw new Error(`${K}: only provide either a public or private access token`)}function It({storeDomain:t,apiVersion:e,publicAccessToken:r,privateAccessToken:n,clientName:a,retries:u=0,customFetchApi:l,logger:p}){const f=dt(),E=it({client:K,storeDomain:t}),h={client:K,currentSupportedApiVersions:f,logger:p};Ce({...h,apiVersion:e}),bt(r,n),St(n);const y=At(E,e,h),m={storeDomain:E,apiVersion:e,...r?{publicAccessToken:r}:{privateAccessToken:n},headers:{"Content-Type":fe,Accept:fe,[gt]:pt,[Et]:yt,...a?{[vt]:a}:{},...r?{[ht]:r}:{[mt]:n}},apiUrl:y(),clientName:a},R=Je({headers:m.headers,url:m.apiUrl,retries:u,customFetchApi:l,logger:p}),$=lt(m),w=wt(m,y),C=ft({getHeaders:$,getApiUrl:w});return Object.freeze({config:m,getHeaders:$,getApiUrl:w,fetch:(...L)=>R.fetch(...C(...L)),request:(...L)=>R.request(...C(...L)),requestStream:(...L)=>R.requestStream(...C(...L))})}function At(t,e,r){return n=>{n&&Ce({...r,apiVersion:n});const a=(n??e).trim();return`${t}/api/${a}/graphql.json`}}function wt(t,e){return r=>r?e(r):t.apiUrl}document.addEventListener("DOMContentLoaded",async()=>{const t="92763ee4ca8842db0d48c64ad1ff8f9a",e="http://pcxmarkets.myshopify.com";let n=0;const a="46856212807930",u=1e3,l=2200,p=66e3;let f=0;const E="46856212775162",h=220,y=485,m=4400,R=document.querySelector("[dev-target=name-wrap-personal-footprint]"),$=document.querySelector("[dev-target=name-wrap-clean-by-ton]"),w=document.querySelector("#Quantity-50339670589756"),C=document.querySelector(".purchase_price"),B=document.querySelector(".purchase_number-impact.is-kg"),L=document.querySelector(".purchase_number-impact.is-bottles"),N=document.querySelector("#Quantity-50339670589758"),F=document.querySelector(".purchase_price-2"),U=document.querySelector(".purchase_number-impact.is-kg-2"),M=document.querySelector(".purchase_number-impact.is-bottles-2"),H=document.querySelector("[dev-target=cart-body]"),Te=document.querySelector("[dev-target=cart-count]"),D=document.querySelector("[dev-target=checkbox-wrap]"),re=D==null?void 0:D.querySelector("input"),qe=document.querySelector("[dev-target=cart-btn-number]"),ne=document.querySelector("[dev-target=cart-empty-state]"),Re=document.querySelector("[dev-target=cart-item]"),Y=document.querySelector("[dev-target=checkout]"),$e=document.querySelector("[dev-target=sub-total]");let oe=!1;const Le=document.querySelectorAll(".js-shopify-buy-now"),Pe=[{checkbox:"#IsGift-50339670589756",field:".form_main_field_wrap.is-gift",requiredInputs:["#RecipientName-50339670589756","#RecipientEmail-50339670589756"]},{checkbox:"#IsGift-50339670556988",field:".form_main_field_wrap.is-gift-2",requiredInputs:["#RecipientName-50339670556988","#RecipientEmail-50339670556988"]}],J=It({storeDomain:e,apiVersion:"2024-04",publicAccessToken:t}),z=await Me({storefrontClient:J,productId:8657611915514}),x=Be();_e({fetchedProduct:z}),Pe.forEach(Oe),Ne(),Fe(),xe({checkoutButton:Y,lineItemsToAdd:x,storefrontClient:J}),ke(Le),performance.navigation.type===performance.navigation.TYPE_BACK_FORWARD&&window.location.reload(),console.log({storefrontClient:J}),console.log({fetchedProduct:z});function _e({fetchedProduct:i}){i.product.variants.edges.forEach(o=>{const c=o.node.id.split("/").pop();if(!c)return console.error("variantId not found");E===c&&(R.querySelector("[dev-target=item-name]").textContent=o.node.title,f=Number(o.node.price.amount)),a===c&&($.querySelector("[dev-target=item-name]").textContent=o.node.title,n=Number(o.node.price.amount))})}function xe({checkoutButton:i,lineItemsToAdd:o,storefrontClient:c}){i.addEventListener("click",async()=>{try{i.classList.add("disabled");const s=await Ue({storefrontClient:c,attributes:[{key:"GiftPromo",value:"true"},{key:"RegistryOptIn",value:o.checkOverTon()?oe?"true":"false":"null"}],lineItems:o.getPureItems()});console.log({cart:s});const{checkoutUrl:d}=await He({storefrontClient:c,cartId:s.id});console.log({checkoutUrl:d}),window.location.href=d}catch(s){i.classList.remove("disabled"),console.error("error",s)}})}function Ne(){D.style.display="none",re.addEventListener("change",()=>{oe=re.checked}),H.innerHTML="",H.appendChild(ne)}function ke(i){i.forEach(o=>{o.addEventListener("click",c=>{const s=o.closest("form"),d=s.querySelector("[dev-target=qty-input]"),g=s.querySelector("[dev-target=is-gift]"),v=s.querySelector("[dev-target=is-gift-name]"),T=s.querySelector("[dev-target=is-gift-email]"),q=s.querySelector("[dev-target=is-gift-message]"),S=s.querySelector("[dev-target=variant-id]"),I=s.checkValidity(),P=(S==null?void 0:S.value)??"",b=(d==null?void 0:d.value)??"0",O=(g==null?void 0:g.checked)??!1,G=(v==null?void 0:v.value)??"",j=(T==null?void 0:T.value)??"",Ge=(q==null?void 0:q.value)??"";!O||O&&I?(c.preventDefault(),De({variantItemId:P,qty:b,isGift:O,product:z,isGiftEmail:j,isGiftMessage:Ge,isGiftName:G})):O&&!I&&(c.preventDefault(),c.stopPropagation(),s.reportValidity())})})}function De({variantItemId:i,qty:o,isGift:c,product:s,isGiftEmail:d,isGiftMessage:g,isGiftName:v}){let T=`gid://shopify/ProductVariant/${i}`,q=parseInt(o,10);const S=s.product.variants.edges.find(({node:{id:I}})=>I===T);if(!S)return console.error("currentVariant not found");if(console.log({currentVariant:S}),c){console.log("Is a gift");const I={_isGift:"true","Gift Recipient Name":v??"","Gift Recipient Email":d??"","Gift Recipient Message":g??""},P=Object.keys(I).map(b=>({key:b,value:I[b]}));x.push({merchandiseId:T,quantity:q,productName:S.node.title,productImage:S.node.image.url??"",productPrice:parseFloat(S.node.price.amount),attributes:P})}else{console.log("Not a gift");const I={_isGift:"false"},P=Object.keys(I).map(b=>({key:b,value:I[b]}));x.push({merchandiseId:T,quantity:q,productName:S.node.title,productImage:S.node.image.url??"",productPrice:parseFloat(S.node.price.amount),attributes:P})}Z()}function se(){H.innerHTML="";const i=x.get().length;Te.textContent=`(${i})`,qe.textContent=`${i}`,i===0?(H.appendChild(ne),Y.classList.add("disabled")):Y.classList.remove("disabled"),x.get().forEach((o,c)=>{const s=Re.cloneNode(!0),d=s.querySelector("[dev-target=cart-image]"),g=s.querySelector("[dev-target=cart-name]"),v=s.querySelector("[dev-target=cart-total]"),T=s.querySelector("[dev-target=cart-price]"),q=s.querySelector("[dev-target=cart-gift]"),S=s.querySelector("[dev-target=cart-gift-name]"),I=s.querySelector("[dev-target=cart-gift-message]"),P=s.querySelector("[dev-target=cart-decrease]"),b=s.querySelector("[dev-target=cart-input]"),O=s.querySelector("[dev-target=cart-increase]"),G=s.querySelector("[dev-target=cart-remove]");o.productImage&&(d.src=o.productImage,d.srcset=""),g.textContent=o.productName,T.textContent=`$${o.productPrice}`,v.textContent=`$${(o.productPrice*o.quantity).toLocaleString()}`,b.value=o.quantity.toString(),o.attributes[0].value==="true"?(q.innerHTML="<strong>Gift: </strong> Yes",S.innerHTML=`<strong>To: </strong>${o.attributes[1].value}`,I.innerHTML=`<strong>Message: </strong>${o.attributes[3].value}`):(q.classList.add("hide"),S.classList.add("hide"),I.classList.add("hide")),b.addEventListener("input",j=>{v.textContent=`$${(parseInt(j.target.value)*o.productPrice).toLocaleString()}`,x.setByIndex(c,{...o,quantity:parseInt(j.target.value)}),Z()}),G==null||G.addEventListener("click",()=>{x.removeByIndex(c)}),O.addEventListener("click",()=>{b.value=(parseInt(b.value,10)+1).toString(),b.dispatchEvent(new Event("input",{bubbles:!0}))}),P==null||P.addEventListener("click",()=>{parseInt(b.value)===1?x.removeByIndex(c):(b.value=(parseInt(b.value,10)-1).toString(),b.dispatchEvent(new Event("input",{bubbles:!0})))}),H.appendChild(s)})}function Z(){$e.textContent=`$${x.getTotalPrice().toLocaleString()}`}function Be(){const i=[];return{push(o){const c=i.findIndex(s=>{var d,g;return s.merchandiseId===o.merchandiseId&&(!s.attributes&&!o.attributes||s.attributes&&o.attributes&&((d=s.attributes[2])==null?void 0:d.value)===((g=o.attributes[2])==null?void 0:g.value))});return c!==-1?i[c].quantity+=o.quantity:i.push(o),se(),this.checkOverTon(),i.length},setByIndex(o,c){return i[o]=c,this.checkOverTon(),i},removeByIndex(o){return o>=0&&o<i.length?(i.splice(o,1),se(),Z(),this.checkOverTon(),!0):!1},get(){return i},getTotalPrice(){return i.reduce((o,c)=>o+c.quantity*c.productPrice,0)},getPureItems(){return i.map(o=>{const{merchandiseId:c,attributes:s,quantity:d}=o;return{merchandiseId:c,quantity:d,...s&&{attributes:s}}})},checkOverTon(){const o=`gid://shopify/ProductVariant/${a}`,c=`gid://shopify/ProductVariant/${E}`;let s=0;for(const d of i)if(d.merchandiseId===o||d.merchandiseId===c&&(s+=d.quantity,s>4))return D.style.display="flex",!0;return D.style.display="none",!1}}}function Q(i){return new Intl.NumberFormat("en-US").format(i)}function Oe(i){const o=document.querySelector(i.checkbox),c=document.querySelector(i.field);if(!o||!c){console.error(`Missing checkbox (${i.checkbox}) or field (${i.field})`);return}const s=()=>{const d=o.checked;c.classList.toggle("visible",d),i.requiredInputs.forEach(g=>{const v=document.querySelector(g);v?d?v.setAttribute("required","required"):v.removeAttribute("required"):console.warn(`Required input (${g}) not found`)})};o.addEventListener("change",s),s()}function Ve(i,o,c,s,d,g,v,T){const q=Q(g*o),S=Q(v*o),I=Q(T*o),P=(i*o).toFixed(2);c&&(c.textContent=`$${Q(Number(P))}`),s&&(s.textContent=`${q} KG / ${S} LBS`),d&&(d.textContent=`${I}`)}function _(i,o,c,s,d,g,v,T){const q=parseInt(i.value,10)||1;Ve(d,q,o,c,s,g,v,T)}function Fe(){w.value="1",N.value="1",_(w,C,B,L,n,u,l,p),_(N,F,U,M,f,h,y,m),w.addEventListener("input",()=>{_(w,C,B,L,n,u,l,p)}),w.addEventListener("change",()=>{_(w,C,B,L,n,u,l,p)}),N.addEventListener("input",()=>{_(N,F,U,M,f,h,y,m)}),N.addEventListener("change",()=>{_(N,F,U,M,f,h,y,m)});const i=document.querySelector('[clean-up-input="increment"]'),o=document.querySelector('[clean-up-input="decrement"]'),c=document.querySelector('[personal-annual-input="increment"]'),s=document.querySelector('[personal-annual-input="decrement"]');i&&o?(i.addEventListener("click",()=>setTimeout(()=>{_(w,C,B,L,n,u,l,p)},0)),o.addEventListener("click",()=>setTimeout(()=>{_(w,C,B,L,n,u,l,p)},0))):console.warn("Finsweet input counter buttons not found"),c&&s?(c.addEventListener("click",()=>setTimeout(()=>{_(N,F,U,M,f,h,y,m)},0)),s.addEventListener("click",()=>setTimeout(()=>{_(N,F,U,M,f,h,y,m)},0))):console.warn("Finsweet input counter buttons not found")}async function Ue({storefrontClient:i,attributes:o=[],lineItems:c=[]}){var s;try{console.log({attributes:o,lineItems:c});const g=await i.request(`#graphql
        mutation cartCreate($input: CartInput!) {
          cartCreate(input: $input) {
            cart {
              id
              createdAt
              updatedAt
              attributes {
                key
                value
              }
              lines(first: 10) {
                edges {
                  node {
                    id
                    merchandise {
                      ... on ProductVariant {
                        id
                        title
                      }
                    }
                    quantity
                  }
                }
              }
            }
            userErrors {
              field
              message
            }
          }
        }
      `,{variables:{input:{attributes:o,lines:c}}});console.log({createCartResponse:g});const v=(s=g.data)==null?void 0:s.cartCreate.cart;if(!v)throw new Error("Error creating cart");return console.log("Cart created:",v),v}catch(d){throw console.error("Error in createCartAndAddItems:",d),d}}async function Me({storefrontClient:i,productId:o}){try{const s=await i.request(`#graphql
        query ProductQuery($id: ID!) {
          product(id: $id) {
            id
            title
            handle
            variants(first: 50) {
              edges {
                node {
                  id
                  title
                  price {
                    amount
                    currencyCode
                  }
                  image {
                    url
                    altText
                    width
                    height
                  }
                }
              }
            }
          }
        }
      `,{variables:{id:`gid://shopify/Product/${o}`}});if(console.log({response:s}),!s.data)throw console.error("Product not found for id:",o),s.errors;return console.log("Fetched product with variants:",s.data),s.data}catch(c){throw console.error("Error fetching product:",c),c}}async function He({storefrontClient:i,cartId:o}){try{const c=`#graphql
        query cart($cartId: ID!) {
          cart(id: $cartId) {
            id
            checkoutUrl
            lines(first: 10) {
              edges {
                node {
                  id
                  merchandise {
                    ... on ProductVariant {
                      id
                      title
                    }
                  }
                  quantity
                }
              }
            }
          }
        }
      `,s={cartId:o},{data:d,errors:g}=await i.request(c,{variables:s});if(console.log({data:d}),!d)throw console.error("Errors fetching cart:",g),g;return console.log("Cart Web URL:",d.cart.checkoutUrl),{checkoutUrl:d.cart.checkoutUrl}}catch(c){throw console.error("Error fetching cart details:",c),c}}});
